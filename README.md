# Тестовое задание DocZilla

Проект содержит три модуля, реализующих различные задачи.

## Структура проекта

```
DocZilla/
├── task1-liquid-sort/          # Task 1: Сортировка жидкостей
├── task2-file-exchange/        # Task 2: Сервис обмена файлами
│   ├── backend/                # Java backend
│   └── frontend/               # Vanilla JS frontend
└── task3-weather/              # Task 3: Сервис прогноза погоды
    ├── backend/                # Java backend
    └── frontend/               # Vanilla JS frontend
```

## Задача 1: Сортировка жидкостей

Программа решает головоломку "сортировка жидкостей". На вход подается массив размерности N*V, где N - количество пробирок, V - объем каждой пробирки. Цвета жидкостей могут быть обозначены числами или буквами. Программа находит последовательность ходов для сортировки жидкостей по цветам.

### Запуск с данными из ТЗ (с флагом --example)

```bash
mvn exec:java -pl task1-liquid-sort -Dexec.args="--example"
```

### Запуск с вводом новых данных

```bash
mvn exec:java -pl task1-liquid-sort
```

Код запросит количество пробирок, объем и состояние каждой пробирки. 

**Обозначение цветов:** Каждый уникальный символ представляет уникальный цвет жидкости. Программа сравнивает символы по строковому равенству, строгой привязки нет. Пустое место обозначается как `0`.

## Примеры данных для тестирования
Примеры взяты из открытого доступа, с игры, а также с видео на YouTube
#### Urls
https://www.youtube.com/watch?v=-2U1WGbe6Y8 (Пример 1)

https://yandex.ru/games/app/225487 (Примеры 2 и 3)

### Пример 1:

#### Вариант 1: С числами


**Ввод:**
```
Количество пробирок:
14

Объем пробирки:
4

Состояние пробирок (0 - пусто):
1 2 3 4
5 5 6 7
8 8 9 7
3 10 11 4
6 12 1 13
3 6 9 10
7 6 4 13
13 4 11 12
1 3 5 9
5 9 8 10
7 12 11 10
1 12 8 11
0 0 0 0
0 0 0 0
```
**Вывод:**
```
Решение найдено за 38 хода(ов):
( 3, 12) ( 3, 13) (10,  3) (10, 13) (11, 13) ( 9,  3) (11,  9) (10, 11)
( 2, 10) ( 7, 11) ( 7, 13) ( 7, 12) ( 6,  7) ( 6, 12) ( 1, 10) ( 4,  7)
( 0, 12) ( 6,  1) (10,  6) (11, 10) ( 4, 11) ( 4, 10) ( 1,  4) ( 8,  2)
( 8,  1) ( 8,  0) (11,  8) ( 2, 11) ( 9,  2) ( 9, 11) ( 1,  9) ( 3,  1)
( 0,  3) ( 5,  1) ( 5, 11) ( 5,  4) ( 3,  5) ( 0,  3)
```

#### Вариант 2: С буквами, дублирует предыдущее

**Ввод:**
```
Количество пробирок:
14

Объем пробирки:
4

Состояние пробирок (0 - пусто):
A B C D
E E F G
H H I G
C J K D
F L A M
C F I J
G F D M
M D K L
A C E I
E I H J
G L K J
A L H K
0 0 0 0
0 0 0 0
```
#### Вывод в данном случае не будет отличаться от предыдущего варианта

### Пример 2:

**Ввод:**
```
Количество пробирок:
6

Объем пробирки:
4

Состояние пробирок (0 - пусто):
1 2 3 2
3 4 1 1
4 3 2 3
2 4 1 4
0 0 0 0
0 0 0 0
```
**Вывод:**
```
Решение найдено за 11 хода(ов):
( 1,  5) ( 1,  4) ( 3,  4) ( 3,  5) ( 3,  4) ( 0,  3) ( 0,  1) ( 2,  1)
( 0,  3) ( 2,  3) ( 2,  1)
```

### Пример 3:

**Ввод:**
```
Количество пробирок:
5

Объем пробирки:
4

Состояние пробирок (0 - пусто):
1 2 2 2
3 1 1 1
2 3 3 3
0 0 0 0
0 0 0 0
```
**Вывод:**
```
Решение найдено за 3 хода(ов):
( 0,  3) ( 1,  4) ( 2,  1)
```

## Задача 2: Сервис обмена файлами

Сервис для загрузки файлов

### Возможности

- **Загрузка файлов**
- **Генерация уникальных ссылок** для каждого файла (**UUID**)
- **Автоматическая очистка** удаляются файлы, которые не сохранялись 5 минут (для примера)

### Архитектура

- **Backend:** Java с использованием встроенного HTTP сервера
- **Frontend:** Vanilla JavaScript, CSS, HTML
- **Хранение:** Файлы сохраняются в директории `files/`

### Запуск сервера

```bash
mvn exec:java -pl task2-file-exchange
```

Сервер запустится на `http://localhost:8080`

### Открытие frontend

Откройте файл `task2-file-exchange/frontend/index.html` в браузере после запуска сервера.

**Как это работает:**
1. Сервер ищет файл по `linkId`
2. Обновляет время последнего скачивания
3. Если файл существует, возвращает его содержимое
4. Браузер автоматически сохраняет файл

**Пример ссылки:**
```
http://localhost:8080/download/200f0ecf-2db1-4de7-a98e-830d29edf1af
```

## Задача 3: Сервис прогноза погоды

Сервис для получения прогноза погоды на 24 часа для указанного города с визуализацией температуры в виде графика.

### Возможности

- **Получение прогноза погоды** на следующие 24 часа для любого города
- **In-memory кэширование** данных на 15 минут
- **Визуализация температуры** в виде графика через Canvas API

### Архитектура

- **Backend:** Java с использованием встроенного HTTP сервера
- **Frontend:** Vanilla JavaScript, CSS, HTML с Canvas API для графиков
- **API:** Open-Meteo Geocoding API, Open-Meteo Forecast API для координат и прогноза погоды соответственно

### Запуск сервера

```bash
mvn exec:java -pl task3-weather
```

Сервер запустится на `http://localhost:8081`

### Открытие frontend

Откройте файл `task3-weather/frontend/index.html` в браузере после запуска сервера.

- Реализовано In-memory кэширование на 15 минут
```private final Map<String, WeatherData> cache = new ConcurrentHashMap<>();```
- Реализована визуализация графика температуры с помощью Canvas API
- Добавлены часы, отображение времени происходит по часовому поясу запрашиваемого города, так же с того момента и строится график, чтобы избежать путаницы
- При выполнении задания решил дать разгуляться фантазии: если температура в запрашиваемом городе > 0, то тогда по экрану плавают облака, так же это сделано по умолчанию, иначе (температура < 0) по экрану падают снежинки
----------------------------------------------------------------------------------
# Итоги
- **Основаная сложность** с которой я столкнулся была в первом задании, а точнее - подбор алгоритма решения
- При выполнении второго задания не было особых проблем, делал когда-то похожее в целях обучения, но на **C++**
- В выполнении третьего задания трудности встретились во frontend части, изучил строение графика, а так же маленький интерактивный элемент в виде облаков и снежинок
- Старался оформлять код и описания в коммитах, так как было принято на предыдущем месте работы

Предвижу вопрос про использование ИИ, не буду скрывать и глупо отговариваться, да, использовал, но в целях быстрого поиска информации, а так же при оформлении этого ```README.md``` файлика, т.к. в этом не силён, **весь код написан вручную**.

Надеюсь вам понравится моё выполнение тестового задания, а так же какие-то маленькие фишки, которые я реализовал : )

Спасибо за внимание и такую прекрасную возможность! <3

----------------------------------------------------------------------------------
#### Для обратной связи:
- Дьяков Михаил
- mixail.djakov@yandex.ru
- TG: @GandoplyasiLLIe